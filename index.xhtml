<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:zbl="http://zentralblatt.org" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:ltx="http://dlmf.nist.gov/LaTeXML">
  <head>
      <title>FHL Example</title>

      <!-- FHL -->
      <script src="FormulaeHighlightLibrary.js"></script>


      <!-- MathJax and Config -->
      <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript">
        //MathJax Configuration
        //Disabled by default
        MathJax.Hub.Config({
          jax: ["input/MathML", "output/HTML-CSS","output/NativeMML"], 
          skipStartupTypeset: true,  //do not auto parse things
          elements: "example2" //restrict MathJax to lower example
        });
      </script>
  </head>
  <body>

  <div>
    <h1>Simple Math Highlighting</h1>

    <p>
      If the browser can natively render MathML Elements, the use of the library is simple. 

      Say we have a simple MathML Element: 
    </p>

    <p>
    <!--  Math Element 1 -->
    <m:math
    xmlns="http://zentralblatt.org" alttext="R_{{\alpha,\beta,n}}\equiv\frac{[\sqrt{(\alpha+n)^{2}+\beta^{2}}-\sqrt{(\alpha%&#10;+n)^{2}-\alpha^{2}}]^{{1/n}}}{[\alpha^{2}+\beta^{2}]^{{1/2n}}}" xml:id="m19.1" display="inline" xref="m19.1.cmml">
          <m:semantics xml:id="m19.1a" xref="m19.1.cmml">
              <m:mrow xml:id="m19.1.5" xref="m19.1.5.cmml">
                  <m:msub xml:id="m19.1.5.1" xref="m19.1.5.1.cmml">
                      <m:mi xml:id="m19.1.1" xref="m19.1.1.cmml">R</m:mi>
                      <m:mrow xml:id="m19.1.2.1" xref="m19.1.2.1.cmml">
                          <m:mi xml:id="m19.1.2.1.1" xref="m19.1.2.1.1.cmml">&#x3B1;</m:mi>
                          <m:mo xml:id="m19.1.2.1a" xref="m19.1.2.1.cmml">,</m:mo>
                          <m:mi xml:id="m19.1.2.1.3" xref="m19.1.2.1.3.cmml">&#x3B2;</m:mi>
                          <m:mo xml:id="m19.1.2.1b" xref="m19.1.2.1.cmml">,</m:mo>
                          <m:mi xml:id="m19.1.2.1.5" xref="m19.1.2.1.5.cmml">n</m:mi>
                      </m:mrow>
                  </m:msub>
                  <m:mo xml:id="m19.1.3" xref="m19.1.3.cmml">&#x2261;</m:mo>
                  <m:mfrac xml:id="m19.1.4" xref="m19.1.4.cmml">
                      <m:msup xml:id="m19.1.4.2" xref="m19.1.4.2.cmml">
                          <m:mrow xml:id="m19.1.4.2.8" xref="m19.1.4.2.8.cmml">
                              <m:mo xml:id="m19.1.4.2.8a" xref="m19.1.4.2.8.cmml">[</m:mo>
                              <m:mrow xml:id="m19.1.4.2.8b" xref="m19.1.4.2.8.cmml">
                                  <m:msqrt xml:id="m19.1.4.2.2" xref="m19.1.4.2.2.cmml">
                                      <m:mrow xml:id="m19.1.4.2.2.2" xref="m19.1.4.2.2.2.cmml">
                                          <m:msup xml:id="m19.1.4.2.2.2.10" xref="m19.1.4.2.2.2.10.cmml">
                                              <m:mrow xml:id="m19.1.4.2.2.2.10.2" xref="m19.1.4.2.2.2.10.2.cmml">
                                                  <m:mo xml:id="m19.1.4.2.2.2.10.2a" xref="m19.1.4.2.2.2.10.2.cmml">(</m:mo>
                                                  <m:mrow xml:id="m19.1.4.2.2.2.10.2b" xref="m19.1.4.2.2.2.10.2.cmml">
                                                      <m:mi xml:id="m19.1.4.2.2.2.2" xref="m19.1.4.2.2.2.2.cmml">&#x3B1;</m:mi>
                                                      <m:mo xml:id="m19.1.4.2.2.2.3" xref="m19.1.4.2.2.2.3.cmml">+</m:mo>
                                                      <m:mi xml:id="m19.1.4.2.2.2.4" xref="m19.1.4.2.2.2.4.cmml">n</m:mi>
                                                  </m:mrow>
                                                  <m:mo xml:id="m19.1.4.2.2.2.10.2c" xref="m19.1.4.2.2.2.10.2.cmml">)</m:mo>
                                              </m:mrow>
                                              <m:mn xml:id="m19.1.4.2.2.2.6.1" xref="m19.1.4.2.2.2.6.1.cmml">2</m:mn>
                                          </m:msup>
                                          <m:mo xml:id="m19.1.4.2.2.2.7" xref="m19.1.4.2.2.2.7.cmml">+</m:mo>
                                          <m:msup xml:id="m19.1.4.2.2.2.11" xref="m19.1.4.2.2.2.11.cmml">
                                              <m:mi xml:id="m19.1.4.2.2.2.8" xref="m19.1.4.2.2.2.8.cmml">&#x3B2;</m:mi>
                                              <m:mn xml:id="m19.1.4.2.2.2.9.1" xref="m19.1.4.2.2.2.9.1.cmml">2</m:mn>
                                          </m:msup>
                                      </m:mrow>
                                  </m:msqrt>
                                  <m:mo xml:id="m19.1.4.2.3" xref="m19.1.4.2.3.cmml">-</m:mo>
                                  <m:msqrt xml:id="m19.1.4.2.4" xref="m19.1.4.2.4.cmml">
                                      <m:mrow xml:id="m19.1.4.2.4.2" xref="m19.1.4.2.4.2.cmml">
                                          <m:msup xml:id="m19.1.4.2.4.2.10" xref="m19.1.4.2.4.2.10.cmml">
                                              <m:mrow xml:id="m19.1.4.2.4.2.10.2" xref="m19.1.4.2.4.2.10.2.cmml">
                                                  <m:mo xml:id="m19.1.4.2.4.2.10.2a" xref="m19.1.4.2.4.2.10.2.cmml">(</m:mo>
                                                  <m:mrow xml:id="m19.1.4.2.4.2.10.2b" xref="m19.1.4.2.4.2.10.2.cmml">
                                                      <m:mi xml:id="m19.1.4.2.4.2.2" xref="m19.1.4.2.4.2.2.cmml">&#x3B1;</m:mi>
                                                      <m:mo xml:id="m19.1.4.2.4.2.3" xref="m19.1.4.2.4.2.3.cmml">+</m:mo>
                                                      <m:mi xml:id="m19.1.4.2.4.2.4" xref="m19.1.4.2.4.2.4.cmml">n</m:mi>
                                                  </m:mrow>
                                                  <m:mo xml:id="m19.1.4.2.4.2.10.2c" xref="m19.1.4.2.4.2.10.2.cmml">)</m:mo>
                                              </m:mrow>
                                              <m:mn xml:id="m19.1.4.2.4.2.6.1" xref="m19.1.4.2.4.2.6.1.cmml">2</m:mn>
                                          </m:msup>
                                          <m:mo xml:id="m19.1.4.2.4.2.7" xref="m19.1.4.2.4.2.7.cmml">-</m:mo>
                                          <m:msup xml:id="m19.1.4.2.4.2.11" xref="m19.1.4.2.4.2.11.cmml">
                                              <m:mi xml:id="m19.1.4.2.4.2.8" xref="m19.1.4.2.4.2.8.cmml">&#x3B1;</m:mi>
                                              <m:mn xml:id="m19.1.4.2.4.2.9.1" xref="m19.1.4.2.4.2.9.1.cmml">2</m:mn>
                                          </m:msup>
                                      </m:mrow>
                                  </m:msqrt>
                              </m:mrow>
                              <m:mo xml:id="m19.1.4.2.8c" xref="m19.1.4.2.8.cmml">]</m:mo>
                          </m:mrow>
                          <m:mrow xml:id="m19.1.4.2.6.1" xref="m19.1.4.2.6.1.cmml">
                              <m:mn xml:id="m19.1.4.2.6.1.1" xref="m19.1.4.2.6.1.1.cmml">1</m:mn>
                              <m:mo xml:id="m19.1.4.2.6.1a" xref="m19.1.4.2.6.1.cmml">/</m:mo>
                              <m:mi xml:id="m19.1.4.2.6.1.3" xref="m19.1.4.2.6.1.3.cmml">n</m:mi>
                          </m:mrow>
                      </m:msup>
                      <m:msup xml:id="m19.1.4.3" xref="m19.1.4.3.cmml">
                          <m:mrow xml:id="m19.1.4.3.10" xref="m19.1.4.3.10.cmml">
                              <m:mo xml:id="m19.1.4.3.10a" xref="m19.1.4.3.10.cmml">[</m:mo>
                              <m:mrow xml:id="m19.1.4.3.10b" xref="m19.1.4.3.10.cmml">
                                  <m:msup xml:id="m19.1.4.3.10.1" xref="m19.1.4.3.10.1.cmml">
                                      <m:mi xml:id="m19.1.4.3.2" xref="m19.1.4.3.2.cmml">&#x3B1;</m:mi>
                                      <m:mn xml:id="m19.1.4.3.3.1" xref="m19.1.4.3.3.1.cmml">2</m:mn>
                                  </m:msup>
                                  <m:mo xml:id="m19.1.4.3.4" xref="m19.1.4.3.4.cmml">+</m:mo>
                                  <m:msup xml:id="m19.1.4.3.10.2" xref="m19.1.4.3.10.2.cmml">
                                      <m:mi xml:id="m19.1.4.3.5" xref="m19.1.4.3.5.cmml">&#x3B2;</m:mi>
                                      <m:mn xml:id="m19.1.4.3.6.1" xref="m19.1.4.3.6.1.cmml">2</m:mn>
                                  </m:msup>
                              </m:mrow>
                              <m:mo xml:id="m19.1.4.3.10c" xref="m19.1.4.3.10.cmml">]</m:mo>
                          </m:mrow>
                          <m:mrow xml:id="m19.1.4.3.8.1" xref="m19.1.4.3.8.1.cmml">
                              <m:mrow xml:id="m19.1.4.3.8.1.6" xref="m19.1.4.3.8.1.6.cmml">
                                  <m:mn xml:id="m19.1.4.3.8.1.1" xref="m19.1.4.3.8.1.1.cmml">1</m:mn>
                                  <m:mo xml:id="m19.1.4.3.8.1.6a" xref="m19.1.4.3.8.1.6.cmml">/</m:mo>
                                  <m:mn xml:id="m19.1.4.3.8.1.3" xref="m19.1.4.3.8.1.3.cmml">2</m:mn>
                              </m:mrow>
                              <m:mo xml:id="m19.1.4.3.8.1.5" xref="m19.1.4.3.8.1.5.cmml">&#x2062;</m:mo>
                              <m:mi xml:id="m19.1.4.3.8.1.4" xref="m19.1.4.3.8.1.4.cmml">n</m:mi>
                          </m:mrow>
                      </m:msup>
                  </m:mfrac>
              </m:mrow>
              <m:annotation-xml xml:id="m19.1.cmml" encoding="MathML-Content" xref="m19.1">
                  <m:apply xml:id="m19.1.5.cmml" xref="m19.1.5">
                      <m:equivalent xml:id="m19.1.3.cmml" xref="m19.1.3"/>
                      <m:apply xml:id="m19.1.5.1.cmml" xref="m19.1.5.1">
                          <m:csymbol cd="ambiguous" xml:id="m19.1.5.1.1.cmml">subscript</m:csymbol>
                          <m:ci xml:id="m19.1.1.cmml" xref="m19.1>
.1">R</m:ci>
                          <m:apply xml:id="m19.1.2.1.cmml" xref="m19.1.2.1">
                              <m:list xml:id="m19.1.2.1.6.cmml"/>
                              <m:ci xml:id="m19.1.2.1.1.cmml" xref="m19.1.2.1.1">&#x3B1;</m:ci>
                              <m:ci xml:id="m19.1.2.1.3.cmml" xref="m19.1.2.1.3">&#x3B2;</m:ci>
                              <m:ci xml:id="m19.1.2.1.5.cmml" xref="m19.1.2.1.5">n</m:ci>
                          </m:apply>
                      </m:apply>
                      <m:apply xml:id="m19.1.4.cmml" xref="m19.1.4">
                          <m:divide xml:id="m19.1.4.1.cmml"/>
                          <m:apply xml:id="m19.1.4.2.cmml" xref="m19.1.4.2">
                              <m:csymbol cd="ambiguous" xml:id="m19.1.4.2.7.cmml">superscript</m:csymbol>
                              <m:apply xml:id="m19.1.4.2.8.cmml" xref="m19.1.4.2.8">
                                  <m:minus xml:id="m19.1.4.2.3.cmml" xref="m19.1.4.2.3"/>
                                  <m:apply xml:id="m19.1.4.2.2.cmml" xref="m19.1.4.2.2">
                                      <m:root xml:id="m19.1.4.2.2a.cmml" xref="m19.1.4.2.2"/>
                                      <m:apply xml:id="m19.1.4.2.2.2.cmml" xref="m19.1.4.2.2.2">
                                          <m:plus xml:id="m19.1.4.2.2.2.7.cmml" xref="m19.1.4.2.2.2.7"/>
                                          <m:apply xml:id="m19.1.4.2.2.2.10.cmml" xref="m19.1.4.2.2.2.10">
                                              <m:csymbol cd="ambiguous" xml:id="m19.1.4.2.2.2.10.1.cmml">superscript</m:csymbol>
                                              <m:apply xml:id="m19.1.4.2.2.2.10.2.cmml" xref="m19.1.4.2.2.2.10.2">
                                                  <m:plus xml:id="m19.1.4.2.2.2.3.cmml" xref="m19.1.4.2.2.2.3"/>
                                                  <m:ci xml:id="m19.1.4.2.2.2.2.cmml" xref="m19.1.4.2.2.2.2">&#x3B1;</m:ci>
                                                  <m:ci xml:id="m19.1.4.2.2.2.4.cmml" xref="m19.1.4.2.2.2.4">n</m:ci>
                                              </m:apply>
                                              <m:cn type="integer" xml:id="m19.1.4.2.2.2.6.1.cmml" xref="m19.1.4.2.2.2.6.1">2</m:cn>
                                          </m:apply>
                                          <m:apply xml:id="m19.1.4.2.2.2.11.cmml" xref="m19.1.4.2.2.2.11">
                                              <m:csymbol cd="ambiguous" xml:id="m19.1.4.2.2.2.11.1.cmml">superscript</m:csymbol>
                                              <m:ci xml:id="m19.1.4.2.2.2.8.cmml" xref="m19.1.4.2.2.2.8">&#x3B2;</m:ci>
                                              <m:cn type="integer" xml:id="m19.1.4.2.2.2.9.1.cmml" xref="m19.1.4.2.2.2.9.1">2</m:cn>
                                          </m:apply>
                                      </m:apply>
                                  </m:apply>
                                  <m:apply xml:id="m19.1.4.2.4.cmml" xref="m19.1.4.2.4">
                                      <m:root xml:id="m19.1.4.2.4a.cmml" xref="m19.1.4.2.4"/>
                                      <m:apply xml:id="m19.1.4.2.4.2.cmml" xref="m19.1.4.2.4.2">
                                          <m:minus xml:id="m19.1.4.2.4.2.7.cmml" xref="m19.1.4.2.4.2.7"/>
                                          <m:apply xml:id="m19.1.4.2.4.2.10.cmml" xref="m19.1.4.2.4.2.10">
                                              <m:csymbol cd="ambiguous" xml:id="m19.1.4.2.4.2.10.1.cmml">superscript</m:csymbol>
                                              <m:apply xml:id="m19.1.4.2.4.2.10.2.cmml" xref="m19.1.4.2.4.2.10.2">
                                                  <m:plus xml:id="m19.1.4.2.4.2.3.cmml" xref="m19.1.4.2.4.2.3"/>
                                                  <m:ci xml:id="m19.1.4.2.4.2.2.cmml" xref="m19.1.4.2.4.2.2">&#x3B1;</m:ci>
                                                  <m:ci xml:id="m19.1.4.2.4.2.4.cmml" xref="m19.1.4.2.4.2.4">n</m:ci>
                                              </m:apply>
                                              <m:cn type="integer" xml:id="m19.1.4.2.4.2.6.1.cmml" xref="m19.1.4.2.4.2.6.1">2</m:cn>
                                          </m:apply>
                                          <m:apply xml:id="m19.1.4.2.4.2.11.cmml" xref="m19.1.4.2.4.2.11">
                                              <m:csymbol cd="ambiguous" xml:id="m19.1.4.2.4.2.11.1.cmml">superscript</m:csymbol>
                                              <m:ci xml:id="m19.1.4.2.4.2.8.cmml" xref="m19.1.4.2.4.2.8">&#x3B1;</m:ci>
                                              <m:cn type="integer" xml:id="m19.1.4.2.4.2.9.1.cmml" xref="m19.1.4.2.4.2.9.1">2</m:cn>
                                          </m:apply>
                                      </m:apply>
                                  </m:apply>
                              </m:apply>
                              <m:apply xml:id="m19.1.4.2.6.1.cmml" xref="m19.1.4.2.6.1">
                                  <m:divide xml:id="m19.1.4.2.6.1.2.cmml"/>
                                  <m:cn type="integer" xml:id="m19.1.4.2.6.1.1.cmml" xref="m19.1.4.2.6.1.1">1</m:cn>
                                  <m:ci xml:id="m19.1.4.2.6.1.3.cmml" xref="m19.1.4.2.6.1.3">n</m:ci>
                              </m:apply>
                          </m:apply>
                          <m:apply xml:id="m19.1.4.3.cmml" xref="m19.1.4.3">
                              <m:csymbol cd="ambiguous" xml:id="m19.1.4.3.9.cmml">superscript</m:csymbol>
                              <m:apply xml:id="m19.1.4.3.10.cmml" xref="m19.1.4.3.10">
                                  <m:plus xml:id="m19.1.4.3.4.cmml" xref="m19.1.4.3.4"/>
                                  <m:apply xml:id="m19.1.4.3.10.1.cmml" xref="m19.1.4.3.10.1">
                                      <m:csymbol cd="ambiguous" xml:id="m19.1.4.3.10.1.1.cmml">superscript</m:csymbol>
                                      <m:ci xml:id="m19.1.4.3.2.cmml" xref="m19.1.4.3.2">&#x3B1;</m:ci>
                                      <m:cn type="integer" xml:id="m19.1.4.3.3.1.cmml" xref="m19.1.4.3.3.1">2</m:cn>
                                  </m:apply>
                                  <m:apply xml:id="m19.1.4.3.10.2.cmml" xref="m19.1.4.3.10.2">
                                      <m:csymbol cd="ambiguous" xml:id="m19.1.4.3.10.2.1.cmml">superscript</m:csymbol>
                                      <m:ci xml:id="m19.1.4.3.5.cmml" xref="m19.1.4.3.5">&#x3B2;</m:ci>
                                      <m:cn type="integer" xml:id="m19.1.4.3.6.1.cmml" xref="m19.1.4.3.6.1">2</m:cn>
                                  </m:apply>
                              </m:apply>
                              <m:apply xml:id="m19.1.4.3.8.1.cmml" xref="m19.1.4.3.8.1">
                                  <m:times xml:id="m19.1.4.3.8.1.5.cmml" xref="m19.1.4.3.8.1.5"/>
                                  <m:apply xml:id="m19.1.4.3.8.1.6.cmml" xref="m19.1.4.3.8.1.6">
                                      <m:divide xml:id="m19.1.4.3.8.1.2.cmml"/>
                                      <m:cn type="integer" xml:id="m19.1.4.3.8.1.1.cmml" xref="m19.1.4.3.8.1.1">1</m:cn>
                                      <m:cn type="integer" xml:id="m19.1.4.3.8.1.3.cmml" xref="m19.1.4.3.8.1.3">2</m:cn>
                                  </m:apply>
                                  <m:ci xml:id="m19.1.4.3.8.1.4.cmml" xref="m19.1.4.3.8.1.4">n</m:ci>
                              </m:apply>
                          </m:apply>
                      </m:apply>
                  </m:apply>
              </m:annotation-xml>
              <m:annotation xml:id="m19.1b" encoding="application/x-tex" xref="m19.1.cmml">R_{{\alpha,\beta,n}}\equiv\frac{[\sqrt{(\alpha+n)^{2}+\beta^{2}}-\sqrt{(\alpha%
      +n)^{2}-\alpha^{2}}]^{{1/n}}}{[\alpha^{2}+\beta^{2}]^{{1/2n}}}</m:annotation>
          </m:semantics>
      </m:math>
      </p>
      

      <p>
        and we want to highlight parts of it in a specific color. For this we first have to find the id of the MathML Element (in this case "m19.1") and the XPath to the Part of the formular we want to highlight. 
      </p>

      <p>
        Then we can use the following code to toggle the colouring on and off: 

      <!-- Example Code 1 -->

        <pre>
<span style='color:#808080; '>//Get the MathML root element</span>
<span style='color:#000084; font-weight:bold; '>var</span> MathMLElement = FHL.getElementByXMLId(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>m19.1</span><span style='color:#0000ff; '>"</span>); 

<span style='color:#808080; '>//The XPath to the part of the forumlar we want to highlight. </span>
<span style='color:#000084; font-weight:bold; '>var</span> xPath = <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>/*[1]/*[3]/*[2]/*[2]/*[2]/*[2]/*[2]</span><span style='color:#0000ff; '>"</span>;

<span style='color:#808080; '>//find the element we want to color</span>
<span style='color:#000084; font-weight:bold; '>var</span> elem = FHL.getPresentation(xPath, MathMLElement);

<span style='color:#808080; '>//Lets check if this element is already colored</span>
<span style='color:#000084; font-weight:bold; '>if</span>(elem.getAttribute(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>mathcolor</span><span style='color:#0000ff; '>"</span>) !== <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>blue</span><span style='color:#0000ff; '>"</span>){
  <span style='color:#808080; '>//its not blue yet so make it blue</span>
  elem.setAttribute(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>mathcolor</span><span style='color:#0000ff; '>"</span>, <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>blue</span><span style='color:#0000ff; '>"</span>);
} <span style='color:#000084; font-weight:bold; '>else</span> {
  <span style='color:#808080; '>//it is already blue, lets turn it black again</span>
  elem.setAttribute(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>mathcolor</span><span style='color:#0000ff; '>"</span>, <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>black</span><span style='color:#0000ff; '>"</span>);
}
        </pre>
      </p>

      <p>
        <span id="example1-controls"></span> (for result see MathML element above)
      </p>

      <script>
        (function(){
          var element = document.createElement("input");
          element.type = "button";
          element.value = "Run code";
          element.onclick = function() {

            //Get the MathML root element
            var MathMLElement = FHL.getElementByXMLId("m19.1"); 

            //The XPath to the part of the forumlar we want to highlight. 
            var xPath = "/*[1]/*[3]/*[2]/*[2]/*[2]/*[2]/*[2]";

            //find the element we want to color
            var elem = FHL.getPresentation(xPath, MathMLElement);

            //Lets check if this element is already colored
            if(elem.getAttribute("mathcolor") !== "blue"){
              //its not blue yet so make it blue
              elem.setAttribute("mathcolor", "blue");
            } else {
              //it is already blue, lets turn it black again
              elem.setAttribute("mathcolor", "black");
            }

          };

          document.getElementById("example1-controls").appendChild(element);
        })();
      </script>
      <!-- /Example Code 1 -->

      <h1>Use together with MathJax</h1>

      <p>
        In some cases, native MathML support from the browser is not available (such as in Google Chrome). In this case, it is possible to use MathJax to render the Element. In this case it is also possible to add colors to the element, however if they are supposed to be triggered on and off afterwards, it is neccessary to use a little trick: We add a CSS class to the element. MathJax, when rendering the element, also adds this class to the output and it is easily possible to refer to the element later. 
      </p>

      <p>
        We use the following code: 
      </p>

      <!-- Example 2-->
      <p>
        <pre>
<span style='color:#808080; '>//Run this code once, on page load</span>
<span style='color:#808080; '>//to stop MathJax from pre-processing</span>
MathJax.Hub.Config({
  jax: [<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>input/MathML</span><span style='color:#0000ff; '>"</span>, <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>output/HTML-CSS</span><span style='color:#0000ff; '>"</span>,<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>output/NativeMML</span><span style='color:#0000ff; '>"</span>], 
  skipStartupTypeset: <span style='color:#000084; font-weight:bold; '>true</span>, <span style='color:#808080; '>//do not auto parse things</span>
  elements: <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>example2</span><span style='color:#0000ff; '>"</span> <span style='color:#808080; '>// restrict MathJax to the element with id example2</span>
});

<span style='color:#808080; '>/* ... */</span>

<span style='color:#808080; '>//Run this code once all elements on the page have loaded</span>

<span style='color:#808080; '>//find the element</span>
<span style='color:#000084; font-weight:bold; '>var</span> MathMLElement = FHL.getElementByXMLId(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>m1.1</span><span style='color:#0000ff; '>"</span>); 

<span style='color:#808080; '>//What do we want to find</span>
<span style='color:#000084; font-weight:bold; '>var</span> xPath = <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>/*[1]/*[2]/*[2]</span><span style='color:#0000ff; '>"</span>; 

<span style='color:#808080; '>//Lets find it</span>
<span style='color:#000084; font-weight:bold; '>var</span> part = FHL.getPresentation(xPath, MathMLElement); 

<span style='color:#808080; '>//and add a class</span>
part.setAttribute(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>class</span><span style='color:#0000ff; '>"</span>, <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>highlight</span><span style='color:#0000ff; '>"</span>); 

<span style='color:#808080; '>//Lets type set it</span>
MathJax.Hub.Queue([<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>Typeset</span><span style='color:#0000ff; '>"</span>,MathJax.Hub, MathMLElement.parent]);


<span style='color:#808080; '>/* ... */</span>

<span style='color:#808080; '>//Run this part of the code when you want to toggle the color of the elements</span>

<span style='color:#808080; '>//Make sure MathJax is not still rendering by giving the callback to MathJax</span>
MathJax.Hub.Queue(<span style='color:#000084; font-weight:bold; '>function</span> () {
  
  <span style='color:#808080; '>//get the highlight element from before. </span>
  <span style='color:#000084; font-weight:bold; '>var</span> elem = document.getElementsByClassName(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>highlight</span><span style='color:#0000ff; '>"</span>)[0];


  <span style='color:#000084; font-weight:bold; '>if</span>(elem.getAttribute(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>mathcolor</span><span style='color:#0000ff; '>"</span>) !== <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>blue</span><span style='color:#0000ff; '>"</span>){
    <span style='color:#808080; '>//its not blue yet so make it blue</span>
    elem.setAttribute(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>mathcolor</span><span style='color:#0000ff; '>"</span>, <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>blue</span><span style='color:#0000ff; '>"</span>);
    elem.setAttribute(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>style</span><span style='color:#0000ff; '>"</span>, <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>color: blue; </span><span style='color:#0000ff; '>"</span>); 
  } <span style='color:#000084; font-weight:bold; '>else</span> {
    <span style='color:#808080; '>//it is already blue, lets turn it black again</span>
    elem.setAttribute(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>mathcolor</span><span style='color:#0000ff; '>"</span>, <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>black</span><span style='color:#0000ff; '>"</span>);
    elem.setAttribute(<span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>style</span><span style='color:#0000ff; '>"</span>, <span style='color:#0000ff; '>"</span><span style='color:#0000ff; '>color: black; </span><span style='color:#0000ff; '>"</span>); 
  }
});
</pre>
      </p>
      <!-- /Example 2 -->

      <p id="example2">
          <m:math xmlns="http://zentralblatt.org" alttext="x^{2}-1=n!" xml:id="m1.1" display="inline" xref="m1.1.cmml"><m:semantics xml:id="m1.1a" xref="m1.1.cmml"><m:mrow xml:id="m1.1.8" xref="m1.1.8.cmml"><m:mrow xml:id="m1.1.8.1" xref="m1.1.8.1.cmml"><m:msup xml:id="m1.1.8.1.1" xref="m1.1.8.1.1.cmml"><m:mi xml:id="m1.1.1" xref="m1.1.1.cmml">x</m:mi><m:mn xml:id="m1.1.2.1" xref="m1.1.2.1.cmml">2</m:mn></m:msup><m:mo xml:id="m1.1.3" xref="m1.1.3.cmml">-</m:mo><m:mn xml:id="m1.1.4" xref="m1.1.4.cmml">1</m:mn></m:mrow><m:mo xml:id="m1.1.5" xref="m1.1.5.cmml">=</m:mo><m:mrow xml:id="m1.1.8.2" xref="m1.1.8.2.cmml"><m:mi xml:id="m1.1.6" xref="m1.1.6.cmml">n</m:mi><m:mi mathvariant="normal" xml:id="m1.1.7" xref="m1.1.7.cmml">!</m:mi></m:mrow></m:mrow><m:annotation-xml xml:id="m1.1.cmml" encoding="MathML-Content" xref="m1.1"><m:apply xml:id="m1.1.8.cmml" xref="m1.1.8"><m:eq xml:id="m1.1.5.cmml" xref="m1.1.5"></m:eq><m:apply xml:id="m1.1.8.1.cmml" xref="m1.1.8.1"><m:minus xml:id="m1.1.3.cmml" xref="m1.1.3"></m:minus><m:apply xml:id="m1.1.8.1.1.cmml" xref="m1.1.8.1.1"><m:csymbol cd="ambiguous" xml:id="m1.1.8.1.1.1.cmml">superscript</m:csymbol><m:ci xml:id="m1.1.1.cmml" xref="m1.1.1">x</m:ci><m:cn type="integer" xml:id="m1.1.2.1.cmml" xref="m1.1.2.1">2</m:cn></m:apply><m:cn type="integer" xml:id="m1.1.4.cmml" xref="m1.1.4">1</m:cn></m:apply><m:apply xml:id="m1.1.8.2.cmml" xref="m1.1.8.2"><m:factorial xml:id="m1.1.7.cmml" xref="m1.1.7"></m:factorial><m:ci xml:id="m1.1.6.cmml" xref="m1.1.6">n</m:ci></m:apply></m:apply></m:annotation-xml><m:annotation xml:id="m1.1b" encoding="application/x-tex" xref="m1.1.cmml">x^{2}-1=n!</m:annotation></m:semantics></m:math>
      </p>

      <p>
        <span id="example2-controls"></span> (Hit the init button first or it wont work. )
      </p>

      <script>
        (function(){
          var element = document.createElement("input");
          element.type = "button";
          element.value = "Init";
          element.onclick = function() {

            //find the element
            var MathMLElement = FHL.getElementByXMLId("m1.1"); 

            //What do we want to find
            var xPath = "/*[1]/*[2]/*[2]"; 

            //Lets find it
            var part = FHL.getPresentation(xPath, MathMLElement); 
          
            //and add a class
            part.setAttribute("class", "highlight"); 

            //Lets type set it
            MathJax.Hub.Queue(["Typeset",MathJax.Hub, MathMLElement.parent]);

            //Disable this button
            element.disabled = true; 
          };

          document.getElementById("example2-controls").appendChild(element);
        })();
      </script>

      <script>
        (function(){
          var element = document.createElement("input");
          element.type = "button";
          element.value = "Run code";
          element.onclick = function() {
            //Make sure MathJax is not still rendering by giving the callback to MathJax
            MathJax.Hub.Queue(function () {
              
              //get the highlight element from before. 
              var elem = document.getElementsByClassName("highlight")[0];


              if(elem.getAttribute("mathcolor") !== "blue"){
                //its not blue yet so make it blue
                elem.setAttribute("mathcolor", "blue");
                elem.setAttribute("style", "color: blue; "); 
              } else {
                //it is already blue, lets turn it black again
                elem.setAttribute("mathcolor", "black");
                elem.setAttribute("style", "color: black; "); 
              }
            }); 
          }

          document.getElementById("example2-controls").appendChild(element);
        })();
      </script>

      <p>
        Note that this code also works in browsers which natively support MathML. 
      </p>

      <h1>API documentation and source code</h1>

      <p>
        The API documentation can be found at <a href="doc/">/doc/</a>
      </p>

      <p>
        The entire source code can be found on GitHub: <a href="https://github.com/tkw1536/FormulaeHighlightLibrary">https://github.com/tkw1536/FormulaeHighlightLibrary</a>
      </p>

    </div>
  </body>
</html>
